{% extends "admin/layout.njk" %}
{% block content %}
    <div class="admin-title">
        <h1>Receita: {{recipe.title}}</h1>
        <div class="buttons">
            {% if session.isAdmin == true or recipe.user_id == session.userId %}
                <a href="/admin/recipes/{{recipe.id}}/edit" class="button">Editar Receita</a>
            {% else %}
            {% endif %}
        </div>
    </div>
    <div class="recipe-page">
        <div class="header">
            <div class="main-image">
                <img src="{{recipe.image.path}}" alt="Imagem de {{recipe.title}}">
            </div>
            <div class="images">
                {% for image in recipe.images %}
                    <img src="{{image.path}}" alt="Imagem de {{recipe.title}}" {% if recipe.image.path == image.path %} class="selected" {% endif %} onclick="ImageGallery.selectImage(event)">
                {% endfor %}
            </div>
            <h1>{{recipe.title}}</h1>
            <p>por {{recipe.chef.name}}</p>
        </div>
        <section>
            <div>
                <h2>Ingredientes</h2>
            </div>
            <ul class="info">
                {% for ingredient in recipe.ingredients %}
                    <li>{{ingredient}}</li>
                {% endfor %}
            </ul>
        </section>
        <section>
            <div>
                <h2>Modo de Preparo</h2>
            </div>
            <ul class="info">
                {% for step in recipe.preparation %}
                    <li>{{step}}</li>
                {% endfor %}
            </ul>
        </section>
        <section>
            <div>
                <h2>Informações Adicionais</h2>
            </div>
            <p class="info">{{recipe.information}}</p>
        </section>
    </div>
{% endblock content %}